<div
  id="alert-3"
  class="fixed z-50 flex justify-end p-4 mb-4 text-white bg-[#CD0404] rounded-lg top-16 right-5"
  role="alert"
  *ngIf="errorMsg"
>
  <svg
    aria-hidden="true"
    class="flex-shrink-0 w-5 h-5"
    fill="currentColor"
    viewBox="0 0 20 20"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
      clip-rule="evenodd"
    ></path>
  </svg>
  <span class="sr-only">Info</span>
  <div class="ml-3 mr-2 text-sm font-medium">
    {{ errorMsg }}
  </div>
  <button
    type="button"
    class="ml-auto -mx-1.5 -my-1.5 bg-green-50 text-[#CD0404] rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 inline-flex h-8 w-8"
    data-dismiss-target="#alert-3"
    aria-label="Close"
  >
    <span class="sr-only">Close</span>
    <svg
      aria-hidden="true"
      class="w-5 h-5"
      fill="currentColor"
      viewBox="0 0 20 20"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
        clip-rule="evenodd"
      ></path>
    </svg>
  </button>
</div>
<div class="p-3 md:pt-[50px] mx-auto">
  <!-- make title -->
  <div class="flex items-center justify-between my-5">
    <h1 class="text-4xl font-bold text-gray-700">Create new Article</h1>
  </div>

  <div
    class="block w-full p-6 bg-white border border-gray-200 rounded-lg shadow-xl"
  >
    <form [formGroup]="form" (submit)="submit()" enctype="multipart/form-data">
      <div class="flex flex-col mb-4">
        <label
          class="mb-2 text-sm font-bold tracking-tight text-gray-700 d"
          for="name"
          >Title Article</label
        >
        <input
          class="w-full px-4 py-2 text-gray-800 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none focus:border-gray-500 sm:w-1/2 md:3/4"
          id="name"
          type="text"
          placeholder="Title Article"
          formControlName="title"
        />
      </div>
      <div class="flex flex-col mb-4">
        <label
          class="block mb-2 text-sm font-medium text-gray-900 d"
          for="file_input"
          >Cover</label
        >
        <img
          class="h-auto max-w-md {{ coverSrc && 'mb-3' }} rounded-xl"
          src="{{ coverSrc }}"
        />
        <input
          class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none sm:w-1/2 md:3/4"
          id="file_input"
          type="file"
          formControlName="cover"
          (change)="processCover($event)"
        />
      </div>
      <div class="flex flex-col mb-4">
        <label
          class="mb-2 text-sm font-bold tracking-tight text-gray-700 d"
          for="name"
          >Category</label
        >
        <select
          id="countries"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 sm:w-1/2 md:3/4"
          formControlName="categoryId"
        >
          <option value="{{ item.id }}" *ngFor="let item of categories">
            {{ item.name }}
          </option>
        </select>
      </div>
      <div class="flex flex-col mb-4">
        <label
          class="block mb-2 text-sm font-medium text-gray-900 d"
          for="infografis"
          >Infografis</label
        >

        <img
          class="h-auto max-w-md {{ infografisSrc && 'mb-3' }} rounded-xl"
          src="{{ infografisSrc }}"
        />

        <input
          class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none sm:w-1/2 md:3/4"
          id="infografis"
          type="file"
          formControlName="infografis"
          (change)="processInfografis($event)"
        />
      </div>

      <div class="flex flex-col mb-4">
        <label
          for="message"
          class="block mb-2 text-sm font-medium text-gray-900 d"
          >Description</label
        >
        <textarea
          id="message"
          rows="6"
          class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-gray-700 focus:border-gray-700 md:w-3/4"
          placeholder="Write your thoughts here..."
          formControlName="desc"
        ></textarea>
      </div>

      <!-- button submit reset -->
      <div class="flex mb-4">
        <button
          type="submit"
          class="text-white bg-[#144272] hover:bg-[#0A2647] focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center mr-2"
          [disabled]="isDisabled"
        >
          Submit
        </button>
        <button
          type="reset"
          class="text-white bg-[#6B728E] hover:bg-[#404258] focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"
        >
          Reset
        </button>
      </div>
    </form>
  </div>
</div>
